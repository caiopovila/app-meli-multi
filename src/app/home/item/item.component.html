<mat-card>
  <app-menu-options></app-menu-options>
  <section class="center">
      <mat-card-title>
          <mat-icon color="primary">shopping_cart</mat-icon>
          Obter produtos de:
      </mat-card-title>
      <mat-form-field>
          <mat-label>Cliente</mat-label>
          <mat-select [(value)]="clientSelected" (selectionChange)="getProducts()" required>
              <mat-option>--</mat-option>
              <mat-option *ngFor="let client of listClients" [value]="client.user_id">
                  {{client.nickname}}
              </mat-option>
          </mat-select>
      </mat-form-field>

      <button mat-icon-button  matTooltip="Adicionar filtro" aria-label="Adicionar filtro" (click)="openFilterDialog()" color="primary">
          <mat-icon>filter_alt</mat-icon>
      </button>
  </section>
</mat-card>

<section *ngIf="listProducts">
    <mat-paginator
        [length]="totalResults"
        [pageSize]="params.limit"
        [pageSizeOptions]="pageSizeOptions"
        (page)="params.limit = $event.pageSize; params.offset = $event.pageSize * $event.pageIndex; getProducts()">
    </mat-paginator>

    <app-product-view  *ngFor="let product of listProducts" [product]="product" [client]="clientSelected"></app-product-view>

</section>
